<% if (typeof(script) !== 'undefined' && script) { %>
    <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
    <style>
    .gitment-header-issue-link {
        display: none;
    }
    </style>
    <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
    <script>
    const myTheme = {
        render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            // container.appendChild(instance.renderFooter(state, instance))

            return container
        }
    }

    const gitment = new Gitment({
        // id: window.location.pathname, // optional
        owner: '<%= theme.comment.gitment.githubID %>',
        repo: '<%= theme.comment.gitment.repo %>',
        oauth: {
            client_id: '<%= theme.comment.gitment.clientID %>',
            client_secret: '<%= theme.comment.gitment.clientSecret %>',
        },
        theme: myTheme
    })

    gitment.render('gitment_frame')
    </script>
<% } else { %>
    <div id="gitment_frame"></div>
<% } %>